{% extends 'base.html' %}
{% load static %}

{% block title %}Albums List{% endblock %}

{% block styles %}
      <link rel="stylesheet" href="{% static 'albums_list.css' %}">
{% endblock %}

{% block content %}

  <h2>Albums List</h2>
  <div class="albums-list">
    {% for album in albums %}
      <!-- Begin .album-container wrapper for each album -->
      <div class="album-container">
        <div class="album-info">
          <h3>{{ album.name }}</h3>
          {% if album.cover %}
            <img src="{{ album.cover.url }}" alt="{{ album.name }} " width="100">
          {% endif %}
          <p>Artist: {{ album.artist }}</p>
          <p>Genre: {{ album.genre }}</p>
          <p>Release Date: {{ album.release_date }}</p>
          <p>Type: {{ album.type }}</p>
          <a href="{% url 'album:update' album.id %}">Update</a> |
          <a href="{% url 'album:delete' album.id %}" onclick="return confirm('Are you sure you want to delete this album?');">Delete</a>
        </div>
        <div class="songs-list">
          <h2>Songs</h2>
          <ul>
            {% for song in album.songs.all %}
              <li>{{ song.title }} - {{ song.genre }} - {{ song.release_date }}</li>
            {% empty %}
              <li>No songs in this album.</li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <!-- End .album-container -->
    {% empty %}
      <p>No albums uploaded yet.</p>
    {% endfor %}
    <br>
    <a href="{% url 'album:upload' %}" class="button" style="text-decoration: none; color: black;">Upload new one</a>
  </div>
{% endblock %}
